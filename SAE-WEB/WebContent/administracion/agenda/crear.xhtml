<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition template="/templates/layout.xhtml">
	<ui:param name="nombre_pagina" value="#{sessionMBean.pantallaTitulo}" />
	<ui:define name="cuerpo">
		<f:view beforePhase="#{agendaMBean.beforePhaseCrear}"
			beforePhaseListener="#{agendaMBean.beforePhaseCrear}">

			<h:form id="form" rendered="#{sessionMBean.empresaActual != null}">
			   <p:outputPanel id="panelForm">
				<fieldset id="basic">
					<legend>
						<h:outputText value="#{sessionMBean.textos['datos_de_la_agenda']}" />
					</legend>
					<p:outputPanel styleClass="form-horizontal">
						
						<p:outputPanel styleClass="form-group">
							<h:outputLabel value="#{sessionMBean.textos['tramite']}"
								for="tramite" styleClass="col-sm-3 control-label label" />
							<p:outputPanel styleClass="col-sm-5">
								<h:selectOneMenu id="tramite"
									value="#{agendaMBean.agendaNueva.tramiteId}"
									valueChangeListener="#{agendaMBean.cambioTramite}"
									styleClass="form-control textoLargo"
									update="tramite nombreAgenda descripcionAgenda">
									<p:ajax update="form:panelForm" process="@this" />
									<f:selectItems value="#{agendaMBean.tramites}" />
								</h:selectOneMenu>
                <p:message for="codigoTramite" />
              </p:outputPanel>
              <p:outputLabel value="#{sessionMBean.textos['codigo']}"
                for="codigoTramite" styleClass="col-sm-1 control-label label formularioCampoRequerido" />
              <p:outputPanel styleClass="col-sm-1">
	              <h:inputText id="codigoTramite" maxlength="5"
	                value="#{agendaMBean.agendaNueva.tramiteCodigo}"
	                disabled="#{agendaMBean.agendaNueva.tramiteId != null and agendaMBean.agendaNueva.tramiteId != '0'}"
	                styleClass="form-control" />
              </p:outputPanel>
              <p:outputPanel styleClass="col-sm-2">
								<p:commandLink
									value="#{sessionMBean.textos['recargar_listado']}"
									actionListener="#{agendaMBean.recargarTramites}"
									immediate="true" update="tramite" />
							</p:outputPanel>
						</p:outputPanel>

						<p:outputPanel styleClass="form-group">
							<h:outputLabel value="#{sessionMBean.textos['nombre']}"
								for="nombreAgenda"
								styleClass="col-sm-3 control-label label formularioCampoRequerido" />
							<p:outputPanel styleClass="col-sm-9">
								<h:inputText id="nombreAgenda"
									value="#{agendaMBean.agendaNueva.nombre}" maxlength="100"
									styleClass="form-control" />
								<p:message for="nombreAgenda"></p:message>
							</p:outputPanel>
						</p:outputPanel>

						<p:outputPanel styleClass="form-group">
							<h:outputLabel value="#{sessionMBean.textos['descripcion']}"
								for="descripcionAgenda"
								styleClass="col-sm-3 control-label label formularioCampoRequerido" />
							<p:outputPanel styleClass="col-sm-9">
								<p:inputTextarea id="descripcionAgenda"
									value="#{agendaMBean.agendaNueva.descripcion}" maxlength="1000"
									styleClass="form-control textoLargo" />
								<p:message for="descripcionAgenda"></p:message>
							</p:outputPanel>
						</p:outputPanel>

            <p:outputPanel styleClass="form-group">
              <h:outputText value="#{sessionMBean.textos['requiere_cda']}"
                styleClass="col-sm-3 control-label label" />
              <p:outputPanel styleClass="col-sm-9">
                <p:selectBooleanCheckbox id="requiereCDA"
                  value="#{agendaMBean.agendaNueva.conCda}" />
				<p:outputLabel value="#{sessionMBean.textos['requerido']}" for="requiereCDA"  />
              </p:outputPanel>
            </p:outputPanel>

            <p:outputPanel styleClass="form-group">
              <h:outputText value="#{sessionMBean.textos['seguimiento']}"
                styleClass="col-sm-3 control-label label" />
              <p:outputPanel styleClass="col-sm-9">
                <p:selectBooleanCheckbox id="trazar"
                  value="#{agendaMBean.agendaNueva.conTrazabilidad}" />
                <p:outputLabel value="#{sessionMBean.textos['con_trazabilidad']}" for="trazar" />
              </p:outputPanel>
            </p:outputPanel>

            <p:outputPanel styleClass="form-group">
              <h:outputText value="#{sessionMBean.textos['novedades']}"
                styleClass="col-sm-3 control-label label" />
              <p:outputPanel styleClass="col-sm-9">
                <p:selectBooleanCheckbox id="publicarNovedades"
                  value="#{agendaMBean.agendaNueva.publicarNovedades}" />
                <p:outputLabel value="#{sessionMBean.textos['publicar_novedades']}" for="publicarNovedades" />
              </p:outputPanel>
            </p:outputPanel>

						<p:outputPanel styleClass="form-group">
							<h:outputLabel value="#{sessionMBean.textos['zona_horaria']}"
								for="timezoneAgenda" styleClass="col-sm-3 control-label label" />
							<p:outputPanel styleClass="col-sm-9">
								<h:selectOneMenu id="timezoneAgenda"
									value="#{agendaMBean.agendaNueva.timezone}"
									styleClass="form-control">
									<f:selectItems value="#{agendaMBean.timezones}" />
								</h:selectOneMenu>
							</p:outputPanel>
						</p:outputPanel>

						<p:outputPanel styleClass="form-group">
							<h:outputText
								value="#{sessionMBean.textos['idiomas_soportados']}"
								styleClass="col-sm-3 control-label label" />
							<p:outputPanel styleClass="col-sm-9">
								<p:selectManyCheckbox id="idiomasAgenda"
									value="#{agendaMBean.idiomasSeleccionados}" layout="responsive"
									columns="4">
									<f:selectItems value="#{agendaMBean.idiomasDisponibles}" />
								</p:selectManyCheckbox>
							</p:outputPanel>
						</p:outputPanel>
					</p:outputPanel>
				</fieldset>

				<ul class="form-action-buttons">
					<li class="action-buttons-primary">
						<ul>
							<li><p:commandButton
									value="#{sessionMBean.textos['guardar']}"
									actionListener="#{agendaMBean.crear}"
									styleClass="btn-lg btn-primario" update="form:panelForm" /></li>
						</ul>
					</li>
					<li class="action-buttons-second">
						<ul>
							<li class="float-left"><p:commandButton
									value="#{sessionMBean.textos['cancelar']}" action="cancelar"
									immediate="true" styleClass="btn-lg btn-link" /></li>
						</ul>
					</li>
				</ul>
				</p:outputPanel>
			</h:form>
		</f:view>
	</ui:define>
</ui:composition>
</html>